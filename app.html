<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√°quina Tragamonedas - Registro de Competidores</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="app-styles.css">
</head>
<body>
    <!-- Pantalla de Registro de Competidores -->
    <div id="login-screen" class="screen active">
        <div class="container">
            <h1>Registro de Competidores</h1>
            
            <form id="login-form" class="login-form">
                <div class="competitors-section">
                    <h2>üë§ Competidor 1</h2>
                    <div class="form-group">
                        <label for="nombre1">Nombre:</label>
                        <input type="text" id="nombre1" name="nombre1" autocomplete="off" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email1">Correo Electr√≥nico:</label>
                        <input type="email" id="email1" name="email1" autocomplete="off" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="telefono1">N√∫mero de Tel√©fono:</label>
                        <input type="tel" id="telefono1" name="telefono1" autocomplete="off" pattern="[0-9]{10}" maxlength="10" placeholder="1234567890" required>
                        <small class="help-text">Ingresa 10 d√≠gitos sin espacios ni guiones</small>
                    </div>
                </div>

                <div class="competitors-section">
                    <h2>üë§ Competidor 2</h2>
                    <div class="form-group">
                        <label for="nombre2">Nombre:</label>
                        <input type="text" id="nombre2" name="nombre2" autocomplete="off" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email2">Correo Electr√≥nico:</label>
                        <input type="email" id="email2" name="email2" autocomplete="off" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="telefono2">N√∫mero de Tel√©fono:</label>
                        <input type="tel" id="telefono2" name="telefono2" autocomplete="off" pattern="[0-9]{10}" maxlength="10" placeholder="1234567890" required>
                        <small class="help-text">Ingresa 10 d√≠gitos sin espacios ni guiones</small>
                    </div>
                </div>
                
                <button type="submit" class="login-button">REGISTRAR AMBOS COMPETIDORES</button>
            </form>
        </div>
    </div>

    <!-- Pantalla de Juego -->
    <div id="game-screen" class="screen">
        <div class="container">
            <h1>¬°Gira y Gana!</h1>
            
            <!-- Informaci√≥n de los competidores registrados -->
            <div class="competitors-info">
                <div class="competitor-card">
                    <h3>üèÅ Competidor 1</h3>
                    <span id="competitor1-name"></span>
                </div>
                <div class="competitor-card">
                    <h3>üèÅ Competidor 2</h3>
                    <span id="competitor2-name"></span>
                </div>
            </div>
            
            <!-- Textos disponibles para los rodillos (ocultos) -->
            <div id="texts-pool" style="display: none;">
                <div class="text-section" data-reel="1">
                    <span>AGUACATE</span>
                    <span>SOMBRERO</span>
                    <span>TACO</span>
                    <span>PARAGUAS</span>
                    <span>HELADO</span>
                    <span>BOTELLA DE TEQUILA</span>
                </div>
                <div class="text-section" data-reel="2">
                    <span>BIOLUMINISCENTE</span>
                    <span>ESPONJOSO</span>
                    <span>MET√ÅLICO</span>
                    <span>ORG√ÅNICO</span>
                    <span>SUAVE</span>
                    <span>ELEGANTE</span>
                </div>
                <div class="text-section" data-reel="3">
                    <span>PREDICE EL FUTURO</span>
                    <span>VUELA</span>
                    <span>CAMBIA DE FORMA</span>
                    <span>LANZALLAMAS</span>
                    <span>HACE BAILAR A QUIEN LO TOCA</span>
                    <span>PUEDE CURAR CORAZONES ROTOS</span>
                </div>
            </div>

            <!-- M√°quina tragamonedas -->
            <div class="slot-machine">
                <div class="reels-container">
                    <div class="reel" id="reel1">
                        <div class="reel-strip">PREMIO</div>
                    </div>
                    <div class="reel" id="reel2">
                        <div class="reel-strip">GRANDE</div>
                    </div>
                    <div class="reel" id="reel3">
                        <div class="reel-strip">HOY</div>
                    </div>
                </div>
                
                <button id="spin-btn" class="spin-button">GIRAR</button>
            </div>
            
            <div class="user-info">
                <span id="user-name">Competidores registrados</span>
                <div>
                    <button id="export-btn" class="export-button">Exportar Excel</button>
                    <button id="clear-btn" class="clear-button">Limpiar Datos</button>
                    <button id="new-competition-btn" class="new-competition-button">Nueva Competencia</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Funci√≥n para permitir solo n√∫meros en los campos de tel√©fono
        function setupPhoneValidation() {
            const phoneInputs = document.querySelectorAll('input[type="tel"]');
            
            phoneInputs.forEach(input => {
                input.addEventListener('input', function(e) {
                    // Remover cualquier car√°cter que no sea n√∫mero
                    this.value = this.value.replace(/[^0-9]/g, '');
                    
                    // Limitar a 10 d√≠gitos
                    if (this.value.length > 10) {
                        this.value = this.value.slice(0, 10);
                    }
                });
                
                // Validaci√≥n adicional en tiempo real
                input.addEventListener('blur', function(e) {
                    if (this.value.length !== 10 && this.value.length > 0) {
                        this.setCustomValidity('El n√∫mero de tel√©fono debe tener exactamente 10 d√≠gitos');
                    } else {
                        this.setCustomValidity('');
                    }
                });
            });
        }
        
        // Inicializar validaci√≥n cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            setupPhoneValidation();
        });
    </script>
    <script src="app-script.js"></script>
</body>
</html>
